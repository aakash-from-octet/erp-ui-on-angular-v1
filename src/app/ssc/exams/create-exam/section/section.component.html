<div class="d-flex align-items-center justify-content-between">
  <div class="d-flex align-items-center create-assessment-title mb-20">
    <h2>CGL</h2>
    <span class="grey-tag">2025</span>
  </div>
  <div class="d-flex align-items-center mb-20">
    <h3 class="mb-0">Version</h3>
    <span class="grey-tag">1.0</span>
    <div class="text-blue cursor-pointer font-500 ml-20">View Past Version</div>
  </div>
</div>
<div nz-row class="mb-20">
  <div nz-col nzSpan="14">
    <p>
      Lorem ipsum dolor sit amet consectetur. Diam vel mattis nulla pharetra
      elementum maecenas quis arcu volutpat. Et velit blandit odio est pretium
      id purus. Mauris magna.
    </p>
  </div>
</div>
<section
  class="dashed-border d-flex align-items-center justify-content-center text-center mb-30"
  *ngIf="!noSection"
>
  <div class="">
    <p class="text-14 text-gray-800 font-400">
      There is no section available currently
    </p>
    <div class="text-blue cursor-pointer" (click)="addSection()">+ Add New</div>
  </div>
</section>
<section class="section-card p-10 mt-20" *ngIf="noSection">
  <div class="sec-header pl-0 px-0 pb-20 mb-20">
    <div class="d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center justify-content-between gap-10">
        <div class="section-img">
          <img
            src="../../../../../assets/images/sectionColorIcon.svg"
            alt=""
          />Section 1
        </div>
        <img src="../../../../../assets/images/modify.svg" alt="" />
        <div class="d-flex align-items-center gap-10">
          <label class="text-gray-800 text-14 font-500 ml-20">Randomization : </label>
          <nz-select nzBorderless nzPlaceHolder="Select a person">
            <nz-option nzLabel="Default Value" nzValue="Default"></nz-option>            
          </nz-select>
        </div>
      </div>
      <div class="d-flex align-items-center justify-content-center">
        <p class="text-14 text-gray-800 font-400 mb-0">5656598946</p>
        <span class="number-box ml-10 mr-15">1</span>
        <img src="../../../../../assets/images/red-delete-icon.svg" alt="" />
      </div>
    </div>
  </div>
  <div class="sec-body p-0 mt-20">
    <section>
      <div nz-row>
        <div nz-col nzSpan="24">
          <nz-table #basicTable [nzData]="listOfData" nzShowPagination="false">
            <thead>
              <tr>
                <th>Subject</th>
                <th>Topic</th>
                <th>Sub topic</th>
                <th>High (20)</th>
                <th>Medium (20)</th>
                <th>Low (20)</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of basicTable.data">
                <td>{{ data.subject }}</td>
                <td>{{ data.topic }}</td>
                <td>{{ data.subtopic }}</td>
                <td>{{ data.high }}</td>
                <td>{{ data.medium }}</td>
                <td>{{ data.low }}</td>
              </tr>
              <tr *ngFor="let addedRow of addedRows; let i = index">
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.subject"
                    placeholder="Subject"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.topic"
                    placeholder="Topic"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.subtopic"
                    placeholder="Subtopic"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.high"
                    placeholder="High"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.medium"
                    placeholder="Medium"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.low"
                    placeholder="Low"
                  />
                </td>
              </tr>
              <!-- Add button for adding new rows -->
              <tr>
                <td colspan="7">
                  <button
                    nz-button
                    class="p-0"
                    nzType="text"
                    (click)="addRow()"
                  >
                    + Add details
                  </button>
                </td>
              </tr>
            </tbody>
          </nz-table>
        </div>
      </div>
    </section>
  </div>
</section>
<section class="section-card p-10 mt-20" *ngIf="noSection">
  <div class="sec-header pl-0 px-0 pb-20 mb-20">
    <div class="d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center justify-content-between gap-10">
        <div class="section-img">
          <img
            src="../../../../../assets/images/sectionColorIcon.svg"
            alt=""
          />Section 2
        </div>
        <img src="../../../../../assets/images/modify.svg" alt="" />
        <div class="d-flex align-items-center gap-10">
          <label class="text-gray-800 text-14 font-500 ml-20">Randomization : </label>
          <nz-select nzBorderless nzPlaceHolder="Select a person">
            <nz-option nzLabel="Default Value" nzValue="Default"></nz-option>            

          </nz-select>
        </div>
      </div>
      <div class="d-flex align-items-center justify-content-center">
        <p class="text-14 text-gray-800 font-400 mb-0">5656598946</p>
        <span class="number-box ml-10 mr-15">1</span>
        <img src="../../../../../assets/images/red-delete-icon.svg" alt="" />
      </div>
    </div>
  </div>
  <div class="sec-body p-0 mt-20">
    <section>
      <div nz-row>
        <div nz-col nzSpan="24">
          <nz-table #basicTable [nzData]="listOfData" nzShowPagination="false">
            <thead>
              <tr>
                <th>Subject</th>
                <th>Topic</th>
                <th>Sub topic</th>
                <th>High (20)</th>
                <th>Medium (20)</th>
                <th>Low (20)</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of basicTable.data">
                <td>{{ data.subject }}</td>
                <td>{{ data.topic }}</td>
                <td>{{ data.subtopic }}</td>
                <td>{{ data.high }}</td>
                <td>{{ data.medium }}</td>
                <td>{{ data.low }}</td>
              </tr>
              <tr *ngFor="let addedRow of addedRows; let i = index">
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.subject"
                    placeholder="Subject"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.topic"
                    placeholder="Topic"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.subtopic"
                    placeholder="Subtopic"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.high"
                    placeholder="High"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.medium"
                    placeholder="Medium"
                  />
                </td>
                <td>
                  <input
                    nz-input
                    [(ngModel)]="addedRow.low"
                    placeholder="Low"
                  />
                </td>
              </tr>
              <!-- Add button for adding new rows -->
              <tr>
                <td colspan="7">
                  <button
                    class="p-0"
                    nz-button
                    nzType="text"
                    (click)="addRow()"
                  >
                    + Add details
                  </button>
                </td>
              </tr>
            </tbody>
          </nz-table>
        </div>
      </div>
    </section>
  </div>
</section>
<section class="mt-20" *ngIf="noSection">
  <button class="add-section" nz-button nzType="text" (click)="addSection()">
    + Add New Section
  </button>
</section>
<nz-modal
  [(nzVisible)]="isVisible"
  nzTitle="Sections"
  (nzOnCancel)="handleCancel()"
  (nzOnOk)="handleOk()"
  nzClassName="user-modal custom-modal"
  nzCentered
>
  <ng-template [nzModalFooter]>
    <button nz-button nzType="primary" (click)="handleOk()">Add Section</button>
  </ng-template>
  <ng-container *nzModalContent>
    <p>Select the template from below to add a section.</p>
    <nz-list nzItemLayout="horizontal" nzSize="small">
      <nz-list-item *ngFor="let item of data" class="cursor-pointer">{{ item }}</nz-list-item>
    </nz-list>
  </ng-container>
</nz-modal>
